# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a market research project analyzing Splitwise's competitive landscape and user sentiment. The goal is to identify pain points from negative user reviews to inform the development of a competitive expense-splitting application.

## Core Workflow

### 1. Review Collection
Fetch negative reviews (score < 5) from Google Play Store:

```bash
pip install -r requirements.txt
python fetch_reviews.py
```

This scrapes reviews using `google-play-scraper` and outputs filtered results to `splitwise_reviews.json`.

### 2. Review Analysis
Analyze scraped reviews to identify patterns:

```bash
python analyze_reviews.py
```

Provides rating distribution, keyword frequency, and top 15 most thumbed-up negative reviews.

### 3. Deep Analysis
Generate categorized insights and extract impactful reviews:

```bash
python deep_analyze_reviews.py
```

Outputs:
- Category breakdown (Monetization, Technical, Authentication, UX/UI, Missing Features)
- Top 20 keyword frequencies
- Generates `impactful_reviews.md` with top 50 reviews by thumbs-up count

## File Structure

**Python Scripts:**
- `fetch_reviews.py` - Primary data collection (fetches from Google Play, filters score < 5, extracts content/score/thumbsUpCount)
- `analyze_reviews.py` - Basic analysis (rating distribution, keyword frequency)
- `deep_analyze_reviews.py` - Advanced categorization and markdown generation

**Data Files:**
- `splitwise_reviews.json` - Raw filtered review data (generated by fetch_reviews.py)
- `analysis.md` - Comprehensive market analysis with user quotes and financial modeling
- `buckets.md` - Thematic categorization of user complaints (5 major themes)
- `impactful_reviews.md` - Top 50 reviews by engagement (generated by deep_analyze_reviews.py)

## Key Architectural Details

### Review Scraping (fetch_reviews.py)
- Uses `google-play-scraper` v1.2.7
- App ID: `com.Splitwise.SplitwiseMobile`
- Fetches all reviews (lang='en', country='us', sort=MOST_RELEVANT)
- Filters for negative reviews (score < 5)
- Extracts minimal fields: `content`, `score`, `thumbsUpCount`

### Analysis Scripts
Both `analyze_reviews.py` and `deep_analyze_reviews.py` read from `splitwise_clone_research/splitwise_reviews.json` (note the subdirectory path), which differs from the fetch script's output location. When running these scripts, ensure the file path is correct or update the scripts to match the actual file location.

### Category System (deep_analyze_reviews.py)
The deep analysis categorizes reviews into 5 buckets using keyword matching:
1. **Monetization (Limits/Ads)** - Keywords: limit, daily, 3 expenses, subscription, pay, pro, ads, premium, greedy, money
2. **Technical (Sync/Crash)** - Keywords: sync, crash, bug, slow, server, connection, offline, load, glitch, hang
3. **Authentication (Login/Signup)** - Keywords: login, sign in, password, email, verification, code, otp, account
4. **UX/UI (Design/Flow)** - Keywords: complicated, confusing, hard to use, interface, design, navigate, cluttered, font
5. **Missing Features** - Keywords: search, export, receipt, scan, chart, graph, dark mode, widget, calculator

## Research Findings Summary

The analysis identifies three critical pain points driving users away from Splitwise:

1. **3-expense daily limit** - Breaks core use cases (group trips, roommate tracking)
2. **10-second ad delay** - Punitive UX degradation before each expense entry
3. **Subscription model** - Users willing to pay one-time fees but reject recurring charges for basic functionality

Technical cost analysis in `analysis.md` demonstrates that unlimited text-based expense tracking is financially viable (~$2.30/month for 1M entries), while receipt image storage is expensive ($113/month for 1M images). This insight supports a freemium strategy with unlimited text expenses and paid image features.
